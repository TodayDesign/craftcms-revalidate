{% set status = craft.revalidate.latestDeploymentStatus %}

<div class="content">
  <form style="margin-bottom:4px;" method="post" accept-charset="UTF-8">
    {{ csrfInput() }}
    <select name="action">
      <option value="revalidate/revalidate/deploy" selected>Deploy site and rebuild redirects</option>
      <option value="revalidate/revalidate/revalidate-all">Clear page cache</option>
      <option value="revalidate/revalidate/revalidate-site-data">Clear global and navigation cache</option>
    </select>
    <input type="submit" class="btn submit" value="Submit">
  </form>
  {% if status %}
    <div style="display: flex; align-items: center; gap: 12px; margin-top: var(--l); padding: var(--m); border-radius: 4px; background-color: var(--gray-050); box-shadow: 0 0 0 1px #cdd8e4;">
      <span class="status-indicator" style="display: inline-block; width: 12px; height: 12px; border-radius: 50%; box-shadow: 0 0 0 1px #cdd8e4; background-color: {{ status.color }};"></span>
      <span>{{ status.label }}</span>
      <span style="color: var(--light-text-color);">{{ status.createdAt|date('Y-m-d H:i:s') }}</span>
    </div>
  {% endif %}
</div>
